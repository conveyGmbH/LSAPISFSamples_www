<!DOCTYPE html>
<html>
    <head>
        <title>Lead Success API for Salesforce Samples - Display Data </title>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Security-Policy" 
        content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval' 'unsafe-inline' https://delightful-desert-016e2a610.4.azurestaticapps.net/ https://lsapisamplesbackend-bhesadgtbja4dmgq.germanywestcentral-01.azurewebsites.net/; style-src 'self' 'unsafe-inline'; media-src 'self' data: https://*.convey.de http://*.convey.de; object-src 'self' blob: data:; frame-src 'self' blob: data:; connect-src 'self' blob: http://*.convey.de https://*.convey.de ws://127.0.0.1:5504 https://brave-bush-0041ef403.6.azurestaticapps.net/ http://localhost:3000 https://delightful-desert-016e2a610.4.azurestaticapps.net/ https://lsapisamplesbackend-bhesadgtbja4dmgq.germanywestcentral-01.azurewebsites.net/;" />
        <meta name="viewport" 
            content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width" />

        <link href="../css/displayLsLeadReport.css" rel="stylesheet">
        <link rel="icon" type="image/x-icon" href="../images/api-sf.ico">
    </head>
    <body>

        <header class="main-header">
            <div class="logo">
                <img src="../images/leadsuccess_white.svg" />
            </div>
            <div class="header-right">
                <button 
                    id="logoutButton" 
                    class="logout-button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                        <polyline points="16 17 21 12 16 7"></polyline>
                        <line x1="21" y1="12" x2="9" y2="12"></line>
                    </svg>Logout</button>
            </div>
        </header>


        <div class="sub-header">
            <h1 class="head-line">Salesforce API Manager</h1>

            <h3>API documentation available 
                <a href="/docs/LeadSuccess_API_for SalesForce.pdf" download>here</a>
                - 
                <button id="postmanButton" class="postman-button">
                    <img src="/images/postman-icon.svg" alt="Postman" width="16" height="16">
                    Test API in Postman 
                </button>
            </h3>
        </div>

        <h2 class="head-line">LS Lead Report - <span id="userNameDisplay"></span></h2>

         <main class="table">

            <section class="table__header">

                <div class="input-group" style="display: none;">
                    <input type="search" id="search" placeholder="Search Data.."/>
                    <img src="../images/search.png" alt="">
                </div>

                 <!-- Actions -->
                 <div class="actions">
                    <button id="backButton" class="action-button">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="19" y1="12" x2="5" y2="12"></line>
                            <polyline points="12 19 5 12 12 5"></polyline>
                        </svg>
                        <span>Back</span>
                    </button>

                    <button id="showAttachmentButton" class="action-button" disabled>Show Attachment (0)</button>
                </div>

            </section>
            <div id="filterInputs" class="filter-inputs"></div>

            <section class="table__body">
                <table>
                    <thead id="tableHead"></thead>
                    <tbody id="tableBody"></tbody>
                </table>
                <p id="noDataMessage"></p>
            </section>
         </main>


         <div class="pagination">
            <button id="nextButton" class="pagination-button" disabled>Next</button>
        </div>

        <div id="errorMessage" class="error-message"></div>

        <script src="/js/services/mapping/FieldMappingService.js"></script>
        <script>
            // Initialize global FieldMappingService instance if not already created
            if (!window.fieldMappingService) {
                window.fieldMappingService = new window.FieldMappingService();
            }
        </script>
        <script src="../js/controllers/headerController.js" type="module" defer></script>
        <script src="../js/controllers/postman-integration.js" type="module" defer></script>
        <script src="../js/controllers/displayLsLeadRepportController.js" type="module" defer></script>
    </body>

</html>
